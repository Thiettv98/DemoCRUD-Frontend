<div class="container-fluid p-0">

    <h1 class="h3 mb-3">Department List</h1>

    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-body">
                    <!-- Search filter and other buttons -->
                    <div class="d-flex mb-2 align-items-center">
                        <div class="mr-auto input-group" style="flex-basis: 250px;"><input type="text"
                                class="form-control" placeholder="Search..." onchange="changeSearch()"
                                id="department-search">
                            <span class="input-department-append">
                                <button class="btn btn-secondary" type="button" onclick="changeSearch()">Search</button>
                            </span>
                        </div>

                        <div>
                            <i class="align-middle mr-2" data-feather="filter" data-toggle="tooltip"
                                data-placement="top" title="Filter button" onclick="toggleFilterForm()"></i>
                        </div>
                        <div onclick="refreshTable()">
                            <i class="align-middle mr-2" data-feather="refresh-ccw" data-toggle="tooltip"
                                data-placement="top" title="Refresh department button"></i>
                        </div>
                        <div onclick="openAddDepartmentModal()">
                            <i class="align-middle mr-2" data-feather="plus-circle" data-toggle="tooltip"
                                data-placement="top" title="Add department button"></i>
                        </div>
                        <div>
                            <i class="align-middle" data-feather="trash" data-toggle="tooltip" data-placement="top"
                                title="Delete department button"></i>
                        </div>
                    </div>
                    <!-- filset  d-none-->
                    <fieldset class="border p-2 mb-2" id="filter-form">
                        <legend class="w-auto" style="font-size: 1rem;">Filter</legend>
                        <div class="row align-items-center align-items-center">
                            <!-- filter date -->
                            <div class="row col-md-5 col-sm-12 align-items-center">
                                <!-- min-date -->
                                <div class="col-6 input-group date" id="min-date" data-target-input="nearest">
                                    <input id="min-date-input" type="text" class="form-control datetimepicker-input"
                                        data-target="#min-date" placeholder="Min date">
                                    <div class="input-group-append" data-target="#min-date"
                                        data-toggle="datetimepicker">
                                        <div class="input-group-text"><i class="fa fa-calendar"></i>
                                        </div>
                                    </div>
                                    <label id="validation-min-date-error" class="small invalid-feedback">Min Date
                                        must be
                                        less than or equal now</label>
                                </div>
                                <!-- maxdate -->
                                <div class="col-6 input-group date" id="max-date" data-target-input="nearest">
                                    <input id="max-date-input" type="text" class="form-control datetimepicker-input"
                                        data-target="#max-date" placeholder="Max date">
                                    <div class="input-group-append" data-target="#max-date"
                                        data-toggle="datetimepicker">
                                        <div class="input-group-text"><i class="fa fa-calendar"></i>
                                        </div>
                                    </div>
                                    <label id="validation-max-date-error" class="small invalid-feedback">Max Date
                                        must be
                                        greater than or equal min date</label>
                                </div>
                            </div>
                            <!-- filter member -->
                            <div class="row col-md-5 col-sm-12 align-items-center">
                                <!-- min-member -->
                                <div class="col-6"><input id="min-member-input" type="number" class="form-control"
                                        placeholder="Min of member">
                                    <label id="validation-min-member-error" class="small invalid-feedback">Min
                                        Member must be
                                        greater than or equal 0</label>
                                </div>
                                <!-- max-member -->
                                <div class="col-6">
                                    <input id="max-member-input" type="number" class="form-control"
                                        placeholder="Max of member">
                                    <label id="validation-max-member-error" class="small invalid-feedback">Max
                                        Member must be
                                        greater than or equal 0</label>
                                </div>
                            </div>
                            <div class="row col-md-2 col-sm-12 ml-1">
                                <div>
                                    <button class="btn btn-secondary" type="button"
                                        onclick="changeFilter()">Filter</button>
                                </div>

                            </div>
                        </div>
                    </fieldset>
                    <!-- table -->
                    <table class="table table-striped table-hover table-bordered">
                        <thead>
                            <tr>
                                <th style="width: 8%;" class="text-center"><input type="checkbox"></th>
                                <th style="width: 20%;" onclick="changeSortDepartment('name')">
                                    Department Name
                                    <span id="department-name-sort-icon" class="d-none"><i
                                            data-feather="chevron-up"></i></span>
                                </th>
                                <th style="width: 20%;" onclick="changeSortDepartment('manager')">
                                    Manager
                                    <span id="manager-sort-icon" class="d-none"><i data-feather="chevron-up"></i></span>
                                </th>
                                <th style="width:10%;" onclick="changeSortDepartment('member')">
                                    Member
                                    <span id="member-sort-icon" class="d-none"><i data-feather="chevron-up"></i></span>
                                </th>
                                <th style="width: 20%;" onclick="changeSortDepartment('creator')">
                                    Creator
                                    <span id="creator-sort-icon" class="d-none"><i data-feather="chevron-up"></i></span>
                                </th>
                                <th class="d-none d-md-table-cell" style="width: 14%;"
                                    onclick="changeSortDepartment('createdDate')">
                                    Created Date
                                    <span id="created-date-sort-icon" class="d-none"><i
                                            data-feather="chevron-up"></i></span>
                                </th>
                                <th style="width:8%" class="text-center">
                                    Actions
                                </th>
                            </tr>
                        </thead>
                        <tbody id="department-table-body">
                        </tbody>
                    </table>
                    <!-- Pagination -->
                    <div class="d-flex justify-content-end">
                        <nav aria-label="...">
                            <ul class="pagination" id="department-pagination">
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- BEGIN insert/update department modal -->
    <div class="modal fade" id="department-modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <form id="department-form">
                    <div class="modal-header">
                        <h5 id="department-modal-title" class="modal-title">Add Department Modal</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body m-3">

                        <div class="form-group">
                            <label class="form-label">Department Name</label>
                            <input id="department-name-input" type="text" class="form-control"
                                name="validation-department-name" placeholder="Enter department name">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Manager</label>
                            <select id="manager-input" class="form-control" name="validation-manager">
                            </select>
                        </div>

                        <div class="form-group" id="member-field">
                            <label class="form-label">Total Member</label>
                            <input id="member-input" type="number" class="form-control" name="validation-member"
                                placeholder="Member" disabled>
                        </div>

                        <div class="form-group" id="creator-field">
                            <label class="form-label">Creator</label>
                            <select id="creator-input" class="form-control" name="validation-creator" disabled>
                            </select>
                        </div>

                        <div class="form-group" id="created-date-field">
                            <label class="form-label">Created Date</label>
                            <input id="created-date-input" type="text" class="form-control" disabled>

                        </div>


                    </div>
                    <div class="modal-footer d-flex">
                        <button type="button" class="btn btn-primary mr-auto" id="btn-add-account-into-department"
                            onclick="openAddAccountToDepartmentModal()">Add Accounts</button>
                        <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary">Save</button>
                    </div>
            </div>
            </form>
        </div>
    </div>
    <!-- END insert/update department modal -->
    <!-- BEGIN delete modal -->
    <div class="modal fade" id="delete-department-modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">

                <div class="modal-header">
                    <h5 class="modal-title" id="department-modal-title">Delete Department Modal</h5>
                    <button id="close-button-department-modal" type="button" class="close" data-dismiss="modal"
                        aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body m-3">
                    <p>Do you wanna delete <b id="delete-department-name" style="color: red">Java Fresher</b>
                        department?</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                    <button onclick="deleteDepartmentFromServer()" type="button" class="btn btn-primary">Delete</button>
                </div>
            </div>
        </div>
    </div>
    <!-- END delete modal -->
    <!-- BEGIN primary modal -->
    <div class="modal fade" id="account-into-department-modal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <form id="department-form">
                    <div class="modal-header">
                        <h5 id="department-modal-title" class="modal-title">Add accounts into department</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="mb-2 align-items-center">
                        <div class="modal-body m-3 d-flex" style="flex-basis:250px;">
                            <div class="input-group"><input type="text" class="form-control" placeholder="Search..."
                                    onchange="changeSearch()" id="department-search">
                                <span class="input-department-append">
                                    <button class="btn btn-secondary" type="button"
                                        onclick="changeSearch()">Search</button>
                                </span>
                            </div>
                        </div>

                        <!-- table -->
                        <table class="table table-striped table-hover table-bordered">
                            <thead>
                                <tr>
                                    <th style="width: 10%;" class="text-center"><input type="checkbox"></th>
                                    <th style="width: 30%;" onclick="changeSort('username')">
                                        Username
                                        <span id="department-name-sort-icon" class="d-none"><i
                                                data-feather="chevron-up"></i></span>
                                    </th>
                                    <th style="width: 30%;" onclick="changeSort('fullname')">
                                        Fullname
                                        <span id="manager-sort-icon" class="d-none"><i
                                                data-feather="chevron-up"></i></span>
                                    </th>
                                    <th style="width:30%;" onclick="changeSort('role')">
                                        Role
                                        <span id="member-sort-icon" class="d-none"><i
                                                data-feather="chevron-up"></i></span>
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="department-table-body">
                            </tbody>
                        </table>    
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary">Add</button>
                    </div>
            </div>
            </form>
        </div>
    </div>
    <!-- END primary modal -->

</div>